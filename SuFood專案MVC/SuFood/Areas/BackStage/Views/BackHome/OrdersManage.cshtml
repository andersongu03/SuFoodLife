@section Styles{
    <link href="~/css/model.css" rel="stylesheet" />
    <link href="~/css/ordersmanage.css" rel="stylesheet" />
}


<div class="orders-container col-10" id="ordersManagement">
    <div class="d-flex align-items-center justify-content-between mb-2">
        <h2>訂單列表</h2>
    </div>

    @*----------1.會員搜尋列----------*@
    <div class="row mb-3">
        <div class="col-2">
            <div class="searchBar">
                <div class="inputWrapper">
                    <i class='bx bx-search-alt-2 searchIcon'></i>
                    <input type="text" class="inputSearch" placeholder="Search...">
                </div>
            </div>
        </div>

        <div class="col-2">
            <div class="title"></div>
            <div class="content">
                <div class="StatusBar">
                    <select>
                        <option value="all">訂購方案</option>
                        <option value="all">零售</option>
                        <option value="active">自由選</option>
                        <option value="frozen">幫你選</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="col-2">
            <div class="title"></div>
            <div class="content">
                <div class="StatusBar">
                    <select>
                        <option value="all">訂單制度</option>
                        <option value="all">一般制</option>
                        <option value="active">訂閱制</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="col-2">
            <div class="title"></div>
            <div class="content">
                <div class="StatusBar">
                    <select>
                        <option value="all">訂單狀態</option>
                        <option value="all">處理中</option>
                        <option value="active">已完成</option>
                        <option value="active">已取消</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="col-4">
            <div class="title"></div>
            <div class="content">
                <div class="date-picker">
                    <input type="date"></input>
                    <input type="date"></input>
                    <button>搜尋</button>
                </div>
            </div>
        </div>
    </div>


    @*----------2.資料表格----------*@
    <div class="table__container">
        <table>
            <thead>
                <tr>
                    <th>會員ID</th>
                    <th>姓名</th>
                    <th>訂單編號</th>
                    <th>訂購方案</th>
                    <th>訂單制度</th>
                    <th>成立時間</th>
                    <th>訂單狀態</th>
                    <th>訂單明細</th>
                    <th>總金額</th>
                    <th>收件資訊</th>
                    <th>刪除</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>10113</td>
                    <td>毛毛蟲</td>
                    <td>20230502186</td>
                    <td>零售</td>
                    <td>一般制</td>
                    <td>2023-05-02 12:08:36</td>
                    <td><button class="pending">處理中</button></td>
                    <td><button class="reci-btn" @@click="viewModal">檢視</button></td>
                    <td>2300</td>
                    <td><i class='bx bx bxs-edit sortIcon' @@click="editModal"></i></td>
                    <td><i class='bx bx-trash sortIcon' @@click="deleteModal"></i></td>
                </tr>

                <tr>
                    <td>10113</td>
                    <td>咕谷咕</td>
                    <td>20230502186</td>
                    <td>零售</td>
                    <td>一般制</td>
                    <td>2023-05-02 12:08:36</td>
                    <td><button class="cancel">已取消</button></td>
                    <td><button class="reci-btn" @@click="viewModal">檢視</button></td>
                    <td>2300</td>
                    <td><i class='bx bx bxs-edit sortIcon' @@click="editModal"></i></td>
                    <td><i class='bx bx-trash sortIcon' @@click="deleteModal"></i></td>
                </tr>

                <tr>
                    <td>10113</td>
                    <td>毛毛蟲</td>
                    <td>20230502186</td>
                    <td>零售</td>
                    <td>一般制</td>
                    <td>2023-05-02 12:08:36</td>
                    <td><button class="completed">已完成</button></td>
                    <td><button class="reci-btn" @@click="viewModal">檢視</button></td>
                    <td>2300</td>
                    <td><i class='bx bx bxs-edit sortIcon' @@click="editModal"></i></td>
                    <td><i class='bx bx-trash sortIcon' @@click="deleteModal"></i></td>
                </tr>
            </tbody>
        </table>
        @*<template v-if="filterproducts.length == 0">
        <h1><i class='bx bx-smile'></i>商品不存在喔!!</h1>
        </template>*@
    </div>

    @*----------3.分頁----------*@
    <div class="paging">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    @*----------4.MODAL----------*@
    <div class="modal__container" :class="modalContainerStyle" id="modal-container">
        <div class="modal__content d-flex flex-column justify-content-around" :class="modalContentStyle">
            <div v-if="currentStatus == 'edit' ||currentStatus == 'view'" class="modal__close close-modal" @@click="closeModal" title="Close">
                <i class='bx bx-x'></i>
            </div>

            <h1 class="modal__title">會員資料</h1>

            <div class="model row g-5">
                @*----------檢視模式----------*@
                <template v-if="currentStatus == 'view'">
                    <div class="row mb-3 flexItems">
                        @*----內容-----*@
                        <div>檢視</div>
                    </div>

                    <button class="modal__button modal__butoon-width">
                        更新
                    </button>
                </template>

                @*----------編輯模式----------*@
                <template v-if="currentStatus == 'edit'">
                    <div class="row delete-modal">
                        @*----內容-----*@
                        <div>編輯</div>
                    </div>

                    <button class="modal__button modal__butoon-width">
                        更新
                    </button>
                </template>

                @*----------刪除模式----------*@
                <template v-if="currentStatus == 'delete'">
                    <div class="button-container">
                        <button class="modal__button modal__butoon-width">
                            刪除
                        </button>

                        <button class="modal__button-link close-modal" @@click="closeModal">
                            取消
                        </button>
                    </div>
                </template>
            </div>
        </div>
    </div>

    @*----------5.提示訊息----------*@
    @*<div class="message-toast-wrapper" :class="toastHintStlye">
        <i v-if="toast=='新增成功' || toast=='修改成功'" class='bx bxs-check-circle message-toast-icon'></i>
        <i v-else class='bx bxs-x-circle message-toast-icon-error' style='color:#f00e0e'></i>
        <p class="message-toast-title">{{toast}}</p>
    </div>*@
</div>

@section Scripts{
    <script src="~/js/vue.js"></script>
    <script>
        const vm = new Vue({
            el: "#ordersManagement",
            data: {
                //-- 彈出視窗的效果條件 --//
                modalContainerStyle: {
                    showModal: false,
                },
                modalContentStyle: {
                    w200: true,
                    w800: false
                },
                currentStatus: '',
            },
            methods: {
                openModal() {
                    this.modalContainerStyle.showModal = true;
                },
                closeModal() {
                    this.modalContainerStyle.showModal = false;
                },
                viewModal() {
                    this.currentStatus = 'view';
                    this.modalContentStyle.w200 = false;
                    this.modalContentStyle.w800 = true;
                    this.openModal();
                },
                editModal() {
                    this.currentStatus = 'edit';
                    this.modalContentStyle.w200 = false;
                    this.modalContentStyle.w800 = true;
                    this.openModal();
                },
                deleteModal() {
                    this.currentStatus = 'delete';
                    this.modalContentStyle.w200 = true;
                    this.modalContentStyle.w800 = false;
                    this.openModal();
                },
            },
            computed: {

            }
        })
    </script>
}
